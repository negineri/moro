# テスト設計書: FantiaPostRepositoryImpl.get_many() Iterator化

## 概要

`FantiaPostRepositoryImpl.get_many()`メソッドを`list[Any]`から`Iterator[Any]`（Generator）に変更する際のテスト設計

## 変更内容

- 戻り値型: `list[Any]` → `Iterator[Any]`
- 実装方式: リスト作成 → Generator（yield）による逐次返却
- メモリ効率: 全データをメモリ保持 → 逐次処理によるメモリ効率化

## テスト項目

### [ ] Happy Path

- [ ] 正常な投稿IDリストでイテレーターが正しく動作すること
- [ ] イテレーターから期待される投稿データが順次取得できること
- [ ] 間隔制御（sleep）が各投稿取得間で実行されること
- [ ] 空のリストに対してイテレーターが空であること

### [ ] Error Cases

- [ ] 無効な投稿IDが含まれた場合、有効な投稿のみが返されること
- [ ] 全ての投稿IDが無効な場合、イテレーターが空であること
- [ ] parse_post()で例外が発生した場合の適切なスキップ処理
- [ ] ネットワークエラー時の例外処理

### [ ] Edge Cases

- [ ] 単一の投稿IDでの正常動作
- [ ] 大量の投稿ID（メモリ効率確認）
- [ ] None値が混入した場合の適切なフィルタリング

### [ ] Integration

- [ ] 既存コードでlist()でラップして使用した場合の互換性
- [ ] FantiaFanclubRepositoryとの連携動作
- [ ] Repository統合テストでの動作確認

### [ ] Performance

- [ ] メモリ使用量の改善確認（大量データ処理時）
- [ ] レスポンス時間の初回応答確認（遅延評価）

## 期待結果

- 既存の機能性を維持しながらメモリ効率が向上
- 逐次処理によりリアルタイムでのデータ処理が可能
- 既存コードとの下位互換性を維持
